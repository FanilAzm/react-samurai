{"version":3,"sources":["assets/images/user.png","redux/dialogsReducer.js","components/NavBar/Friends/FriendItem/FriendItem.module.css","components/OnlineUsers/OnlineUsers.module.css","components/common/Paginator/Paginator.module.css","components/common/Preloader/Preloader.module.css","api/api.js","components/NavBar/NavBar.module.css","logo.svg","components/Header/Header.js","redux/authReducer.js","redux/selectors/header-selectors.js","components/Header/HeaderContainer.js","components/NavBar/Friends/FriendItem/FriendItem.js","components/NavBar/Friends/Friends.js","components/NavBar/Friends/FriendsContainer.js","components/NavBar/NavBar.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/Login/Login.js","components/OnlineUsers/OnlineUsers.js","utils/object-helper.js","redux/usersReducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/selectors/users-selectors.js","components/Users/UsersContainer.js","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","reportWebVitals.js","index.js","components/common/FormControls/FormControl.module.css","assets/images/Hourglass.gif","components/common/Preloader/Preloader.js","components/Users/Users.module.css","utils/validators.js","components/common/FormControls/FormControls.js","components/Header/Header.module.css","components/NavBar/Friends/Friends.module.css","hoc/withAuthRedirect.js","redux/profileReducer.js"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageText","type","dialogsReducer","state","action","body","module","exports","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentUserPage","pageSize","get","then","response","data","postUser","userId","post","deleteUser","delete","profileAPI","getProfileUser","getStatus","updateStatus","status","put","authAPI","getAuth","login","email","password","rememberMe","logout","Header","props","className","s","header","src","isAuth","onClick","to","SET_AUTH_USER_DATA","isFetching","setAuthUserData","getAuthUserData","dispatch","a","resultCode","authReducer","getHeaderIsAuthSelector","auth","getLoginSelector","HeaderContainer","this","React","Component","connect","FriendItem","avatar","Friends","friend","friends","map","title","items","FriendsContainer","siteBar","NavBar","nav","item","activeClassName","active","News","Music","Settings","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Input","placeholder","validate","required","error","styles","formError","length","stopSubmit","_error","formData","OnlineUsers","usersList","updateObjectInArray","itemId","objPropName","newObjProps","user","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_PROGRESS","users","totalUsersCount","followingProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","pageNumber","usersCount","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","page","selectedPage","User","userItem","userItemHeader","alt","userInfo","photos","small","UserImg","disabled","some","unfollow","follow","Users","userItems","getUsersSelector","usersPage","getPageSizeSelector","getTotalUsersCount","getCurrentUserPage","getIsFetching","getFollowingProgress","UsersContainer","setCurrentPage","Preloader","compose","bind","totalCount","withAuthRedirect","SET_INITIALIZED","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","ProfileContainer","lazy","DialogsContainer","App","path","render","exact","Login","AppContainer","promise","Promise","all","SamuraiJSApp","StrictMode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","input","meta","hasError","touched","formControl","mapStateToPropsForRedirect","RedirectComponent","ADD_POST","SET_USERS_PROFILE","SET_STATUS","DELETE_POST","posts","likeCount","profile","addPostActionCreator","newPostText","setStatus","getProfile","newPost","p","postId"],"mappings":"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","file":"static/js/main.db3d5422.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.fbfe03c2.png\";","const ADD_MESSAGE = 'samurai-network/dialogs/ADD-MESSAGE';\n\nlet initialState = {\n\tdialogs: [\n\t\t{id: 1, name: 'Valera'},\n\t\t{id: 2, name: 'Valera'},\n\t\t{id: 3, name: 'Valera'},\n\t\t{id: 4, name: 'Valera'}\n\t],\n\tmessages: [\n\t\t{id: 1, message: 'Hi'},\n\t\t{id: 2, message: 'How are you it-kamasutra?'},\n\t\t{id: 3, message: 'Yo!'}\n\t]\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase ADD_MESSAGE: {\n\t\t\tlet body = action.newMessageText;\n\t\t\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessages: [...state.messages, {id: 1, message: body}]\n\t\t\t};\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const addMessageActionCreator = (newMessageText) => ({type: ADD_MESSAGE, newMessageText});\n\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"FriendItem_avatar__2AFmO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersList\":\"OnlineUsers_usersList__3R-bG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2dvkO\"};","import * as axios from 'axios';\n\nconst instance = axios.create({\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\n\twithCredentials: true,\n\theaders: {\n\t\t\"API-KEY\": \"0d89e099-3709-4127-8745-9e8637327b4f\"\n\t}\n})\n\nexport const usersAPI = {\n\tgetUsers(currentUserPage, pageSize){\n\t\treturn instance\n\t\t\t.get(`users?page=${currentUserPage}&count=${pageSize}`)\n\t\t\t.then(response => response.data)\n\t},\n\tpostUser(userId) {\n\t\treturn instance\n\t\t\t.post(`follow/${userId}`)\n\t\t\t.then(response => response.data)\n\t},\n\tdeleteUser(userId) {\n\t\treturn instance\n\t\t\t.delete(`follow/${userId}`)\n\t\t\t.then(response => response.data)\n\t}\n}\n\nexport const profileAPI = {\n\tgetProfileUser(userId) {\n\t\treturn instance\n\t\t\t.get(`profile/` + userId)\n\t\t\t.then(response => response.data)\n\t},\n\tgetStatus(userId) {\n\t\treturn instance\n\t\t\t.get(`profile/status/` + userId)\n\t\t\t.then(response => response.data)\n\t},\n\tupdateStatus(status) {\n\t\treturn instance\n\t\t\t.put(`profile/status`, {status: status})\n\t\t\t.then(response => response.data)\n\t}\n}\n\nexport const authAPI = {\n\tgetAuth() {\n\t\treturn instance\n\t\t\t.get(`auth/me`)\n\t\t\t.then(response => response.data);\n\t},\n\tlogin(email, password, rememberMe) {\n\t\treturn instance\n\t\t\t.post(`auth/login`, {email, password, rememberMe})\n\t\t\t.then(response => response.data);\n\t},\n\tlogout() {\n\t\treturn instance\n\t\t\t.delete(`auth/login`)\n\t\t\t.then(response => response.data);\n\t}\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1FWUI\",\"item\":\"NavBar_item__2RAQQ\",\"active\":\"NavBar_active__1HRI5\"};","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './Header.module.css';\n\nconst Header = (props) => {\n  return(\n    <header className={s.header}>\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQWEtOjmSIgLT_6bSSd0jx8IFdmocKUAG7nQ&usqp=CAU\" />\n      <div className={s.login}>\n        { props.isAuth \n          ? <div>{props.login} <button onClick={props.logout}>Log out</button></div>\n          : <NavLink to={'/login'}>Login</NavLink> }\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import { stopSubmit } from 'redux-form';\nimport {authAPI} from '../api/api';\n\nconst SET_AUTH_USER_DATA = 'samurai-network/auth/SET_AUTH_USER_DATA';\n\nconst initialState = {\n\tid: null,\n\tlogin: null,\n\temail: null,\n\tisAuth: false,\n\tisFetching: false\n}\n\nconst authReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase SET_AUTH_USER_DATA: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.data\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const setAuthUserData = (id, login, email, isAuth) => ({type: SET_AUTH_USER_DATA, data: {id, login, email, isAuth}})\n\nexport const getAuthUserData = () => async (dispatch) => {\n\tlet response = await authAPI.getAuth();\n\t\t\n\tif(response.resultCode === 0) {\n\t\tlet {id, login, email} = response.data;\n\t\tdispatch(setAuthUserData(id, login, email, true));\n\t}\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n\tlet response = await authAPI.login(email, password, rememberMe);\n\t\t\n\tif(response.resultCode === 0) {\n\t\tdispatch(getAuthUserData());\n\t} else {\n\t\tlet message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\n\t\tdispatch(stopSubmit('login', {_error: message}));\n\t}\n}\n\nexport const logout = () => async (dispatch) => {\n\tlet response = await authAPI.logout()\n\t\t\n\tif(response.resultCode === 0) {\n\t\tdispatch(setAuthUserData(null, null, null, false));\n\t}\n}\n\nexport default authReducer;","export const getHeaderIsAuthSelector = (state) => {\n\treturn state.auth.isAuth;\n}\n\nexport const getLoginSelector = (state) => {\n\treturn state.auth.login;\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport {logout} from '../../redux/authReducer';\nimport { getHeaderIsAuthSelector, getLoginSelector } from '../../redux/selectors/header-selectors';\n\nclass HeaderContainer extends React.Component {\n  \n  render() {\n    return(\n      <Header {...this.props} />\n    )\n  }\n}\n\n// const mapStateToProps = (state) => {\n//   return {\n//     isAuth: state.auth.isAuth,\n//     login: state.auth.login\n//   }\n// }\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuth: getHeaderIsAuthSelector(state),\n    login: getLoginSelector(state)\n  }\n}\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\nimport s from './FriendItem.module.css';\n\nconst FriendItem = (props) => {\n\treturn(\n\t\t<div>\n\t\t\t<div className={s.avatar}></div>\n\t\t\t<div>{ props.name }</div>\n\t\t</div>\n\t)\n}\n\nexport default FriendItem;","import React from 'react';\nimport FriendItem from './FriendItem/FriendItem';\nimport s from './Friends.module.css';\n\nconst Friends = (props) => {\n\tconst friend = props.friends.map(friend => <FriendItem key={friend.id} name={friend.name}/>);\n\n\treturn(\n\t\t<div>\n\t\t\t<div className={s.title}>Friends</div>\n\t\t\t<div className={s.items}>\n\t\t\t\t{ friend }\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Friends;","import React from 'react';\nimport StoreContext from '../../../StoreContext';\nimport Friends from './Friends';\nimport {connect} from 'react-redux';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfriends: state.siteBar.friends\n\t}\n}\n\nconst mapDispatchToProps = () => {\n\treturn {}\n}\n\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(Friends);\n\nexport default FriendsContainer;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport FriendsContainer from './Friends/FriendsContainer';\nimport s from './NavBar.module.css';\n\nconst NavBar = () => {\n\treturn(\n\t\t<nav className={s.nav}>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\n\t\t\t</div>\n\t\t\t<FriendsContainer />\n\t\t</nav>\n\t)\n}\n\nexport default NavBar;","import React from 'react';\nimport s from './News.module.css';\n\nconst News = () => {\n\treturn(\n\t\t<div>\n\t\t\tNews\n\t\t</div>\n\t)\n}\n\nexport default News;","import React from 'react';\nimport s from './Music.module.css';\n\nconst Music = () => {\n\treturn(\n\t\t<div>\n\t\t\tMusic\n\t\t</div>\n\t)\n}\n\nexport default Music;","import React from 'react';\nimport s from './Settings.module.css';\n\nconst Settings = () => {\n\treturn(\n\t\t<div>\n\t\t\tSettings\n\t\t</div>\n\t)\n}\n\nexport default Settings;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { required } from '../../utils/validators';\nimport { Input } from '../common/FormControls/FormControls';\nimport { login } from '../../redux/authReducer';\nimport { Redirect } from 'react-router-dom';\nimport styles from './../common/FormControls/FormControl.module.css';\n\nconst Login = (props) => {\n\tconst onSubmit = (formData) => {\n\t\tprops.login(formData.email, formData.password, formData.rememberMe);\n\t}\n\n\tif(props.isAuth) {\n\t\treturn <Redirect to=\"/profile\" />\n\t}\n\n\treturn(\n\t\t<div>\n\t\t\t<h1>Login</h1>\n\t\t\t<LoginReduxForm onSubmit={onSubmit} />\n\t\t</div>\n\t)\n}\n\nconst LoginForm = (props) => {\n\treturn(\n\t\t<form onSubmit={props.handleSubmit}>\n\t\t\t<div>\n\t\t\t\t<Field type=\"text\" name=\"email\"\n\t\t\t\t\tcomponent={Input} placeholder=\"Email\"\n\t\t\t\t\tvalidate={[required]}\t\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Field type=\"text\" name=\"password\"\n\t\t\t\t\tcomponent={Input} placeholder=\"Password\"\n\t\t\t\t\tvalidate={[required]}\t\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Field type=\"checkbox\" name=\"rememberMe\" component=\"input\"/> remember me\n\t\t\t</div>\n\t\t\t{\n\t\t\t\tprops.error && <div className={styles.formError}>{props.error}</div>\n\t\t\t}\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">Login</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nconst LoginReduxForm = reduxForm({\n  form: 'login'\n})(LoginForm)\n\nconst mapStateToProps = (state) => ({\n\tisAuth: state.auth.isAuth\n})\n \nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\nimport s from './OnlineUsers.module.css';\n\nconst OnlineUsers = () => {\n\treturn(\n\t\t<div className={s.usersList}>\n\t\t\tOnline Users\n\t\t</div>\n\t)\n}\n\nexport default OnlineUsers;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n\treturn items.map(user => {\n\t\tif(user[objPropName] === itemId) {\n\t\t\treturn {...user, ...newObjProps}\n\t\t}\n\t\treturn user;\n\t})\n} ","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from '../utils/object-helper';\n\nconst FOLLOW = 'samurai-network/users/FOLLOW';\nconst UNFOLLOW = 'samurai-network/users/UNFOLLOW';\nconst SET_USERS = 'samurai-network/users/SET_USERS';\nconst SET_CURRENT_PAGE = 'samurai-network/users/SET_CURRENT_PAGE';\nconst SET_USERS_COUNT = 'samurai-network/users/SET_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'samurai-network/users/TOGGLE_IS_FETCHING';\nconst TOGGLE_FOLLOWING_PROGRESS = 'samurai-network/users/TOGGLE_FOLLOWING_PROGRESS';\n\nconst initialState = {\n\tusers: [],\n\tpageSize: 4,\n\ttotalUsersCount: 0,\n\tcurrentUserPage: 1,\n\tisFetching: false,\n\tfollowingProgress: []\n}\n\nconst usersReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase FOLLOW: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: updateObjectInArray(state.users, action.id, 'id', {followed: true})\n\t\t\t\t// users: state.users.map(user => {\n\t\t\t\t// \tif(user.id === action.id) {\n\t\t\t\t// \t\treturn {...user, followed: true}\n\t\t\t\t// \t}\n\t\t\t\t// \treturn user;\n\t\t\t\t// })\n\t\t\t}\n\t\t}\n\t\tcase UNFOLLOW: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: updateObjectInArray(state.users, action.id, 'id', {followed: false})\n\t\t\t\t// users: state.users.map(user => {\n\t\t\t\t// \tif(user.id === action.id) {\n\t\t\t\t// \t\treturn {...user, followed: false}\n\t\t\t\t// \t}\n\t\t\t\t// \treturn user;\n\t\t\t\t// })\n\t\t\t}\n\t\t}\n\t\tcase SET_USERS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: action.users\n\t\t\t}\n\t\t}\n\t\tcase SET_CURRENT_PAGE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentUserPage: action.pageNumber\n\t\t\t}\n\t\t}\n\t\tcase SET_USERS_COUNT: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttotalUsersCount: action.usersCount\n\t\t\t}\n\t\t}\n\t\tcase TOGGLE_IS_FETCHING: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching\n\t\t\t}\n\t\t}\n\t\tcase TOGGLE_FOLLOWING_PROGRESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfollowingProgress: action.isFetching\n\t\t\t\t\t? [...state.followingProgress, action.userId]\n\t\t\t\t\t: state.followingProgress.filter(id => id != action.userId)\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const followSuccess = (userId) => ({type: FOLLOW, id: userId});\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, id: userId});\nexport const setUsers = (users) => ({type: SET_USERS, users});\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber});\nexport const setUsersCount = (usersCount) => ({type: SET_USERS_COUNT, usersCount});\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_FOLLOWING_PROGRESS, isFetching, userId});\n\nexport const getUsers = (currentUserPage, pageSize) => async (dispatch) => {\n\tdispatch(toggleIsFetching(true));\n\t\n\tlet data = await usersAPI.getUsers(currentUserPage, pageSize)\n\t\t\n\tdispatch(setUsers(data.items));\n\tdispatch(setUsersCount(data.totalCount));\n\tdispatch(toggleIsFetching(false));\n\t\t\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n\tdispatch(toggleFollowingProgress(true, userId));\n\n\tlet data = await apiMethod(userId);\n\t\t\n\tif(data.resultCode === 0) {\n\t\tdispatch(actionCreator(userId));\n\t}\n\tdispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => async (dispatch) => {\n\tlet apiMethod = usersAPI.postUser.bind(usersAPI);\n\tlet actionCreator = followSuccess;\n\t\n\tfollowUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\n}\n\nexport const unfollow = (userId) => async (dispatch) => {\n\tlet apiMethod = usersAPI.deleteUser.bind(usersAPI);\n\tlet actionCreator = unfollowSuccess;\n\t\n\tfollowUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\n}\n\n\n\nexport default usersReducer;","import React, { useState } from 'react';\nimport s from './Paginator.module.css';\n\nconst Paginator = ({totalUsersCount, pageSize, currentUserPage, onPageChanged, portionSize = 10}) => {\n\tlet pagesCount = Math.ceil(totalUsersCount / pageSize);\n\tconst pages = [];\n\n\tfor(let i = 1; i <= pagesCount; i++) {\n\t\tpages.push(i);\n\t}\n\n\tlet portionCount = Math.ceil(pagesCount / portionSize);\n\tlet [portionNumber, setPortionNumber] = useState(1);\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n\tlet rightPortionPageNumber = portionNumber * portionSize;\n\n\treturn(\n\t\t<div>\n\t\t\t{ portionNumber > 1 && <button onClick={ () => { setPortionNumber(portionNumber - 1) }}>prev</button> }\n\t\t\t\t{\n\t\t\t\t\tpages\n\t\t\t\t\t\t.filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\n\t\t\t\t\t\t.map(page => {\n\t\t\t\t\t\t\treturn  (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tkey={page}\n\t\t\t\t\t\t\t\t\tclassName={ currentUserPage === page && s.selectedPage }\n\t\t\t\t\t\t\t\t\tonClick={() => { onPageChanged(page) }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ page }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t{ portionCount > portionNumber && <button onClick={ () => { setPortionNumber(portionNumber + 1) }}>next</button> }\n\t\t</div>\n\t)\n}\n\nexport default Paginator;","import React from 'react';\nimport s from './Users.module.css';\nimport UserImg from '../../assets/images/user.png';\nimport { NavLink } from 'react-router-dom';\n\nconst User = ({user, ...props}) => {\n\n\t\tconst deleteRequest = (userId) => {\n\t\t\tprops.unfollow(userId);\n\t\t}\n\n\t\tconst postRequest = (userId) => {\n\t\t\tprops.follow(userId);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={s.userItem}>\n\t\t\t\t<div className={s.userItemHeader}>\n\t\t\t\t\t<img src=\"https://images.ctfassets.net/hrltx12pl8hq/7yQR5uJhwEkRfjwMFJ7bUK/dc52a0913e8ff8b5c276177890eb0129/offset_comp_772626-opt.jpg?fit=fill&w=800&h=300\" alt=\"\"/>\n\t\t\t\t</div>\n\t\t\t\t<div className={s.userInfo}>\n\t\t\t\t\t<NavLink to={'/profile/' + user.id}>\n\t\t\t\t\t\t<img src={user.photos.small ? null : UserImg} alt={user.name}/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>{user.name}</h4>\n\t\t\t\t\t\t<p>{user.status}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{user.followed\n\t\t\t\t\t\t? <button disabled={props.followingProgress.some(id => id === user.id)} onClick={() => { deleteRequest(user.id) }}>UnFollow</button>\n\t\t\t\t\t\t: <button disabled={props.followingProgress.some(id => id === user.id)} onClick={() => { postRequest(user.id) }}>Follow</button>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n}\n\nexport default User;","import React from 'react';\nimport s from './Users.module.css';\nimport Paginator from '../common/Paginator/Paginator';\nimport User from './User';\n\nconst Users = (props) => {\n\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<Paginator \n\t\t\t\t\ttotalUsersCount={props.totalUsersCount}\n\t\t\t\t\tpageSize={props.pageSize}\n\t\t\t\t\tcurrentUserPage={props.currentUserPage}\n\t\t\t\t\tonPageChanged={props.onPageChanged}\n\t\t\t\t/>\n\t\t\t\t<div className={s.userItems}>\n\t\t\t\t\t{\n\t\t\t\t\t\tprops.users.map(user => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<User \n\t\t\t\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\t\t\tunfollow={props.unfollow}\n\t\t\t\t\t\t\t\t\tfollow={props.follow}\n\t\t\t\t\t\t\t\t\tfollowingProgress={props.followingProgress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n}\n\nexport default Users;","export const getUsersSelector = (state) => {\n\treturn state.usersPage.users;\n}\n\nexport const getPageSizeSelector = (state) => {\n\treturn state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n\treturn state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentUserPage = (state) => {\n\treturn state.usersPage.currentUserPage;\n}\n\nexport const getIsFetching = (state) => {\n\treturn state.usersPage.isFetching;\n}\n\nexport const getFollowingProgress = (state) => {\n\treturn state.usersPage.followingProgress;\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport {follow, unfollow, setCurrentPage, getUsers} from '../../redux/usersReducer';\nimport Users from './Users';\nimport Preloader from '../common/Preloader/Preloader';\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\nimport { getUsersSelector, getPageSizeSelector, getTotalUsersCount, getCurrentUserPage, getIsFetching, getFollowingProgress } from '../../redux/selectors/users-selectors';\n\nclass UsersContainer extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.getUsers(this.props.currentUserPage, this.props.pageSize);\n\t}\n\tonPageChanged = (page) => {\n\t\tthis.props.setCurrentPage(page);\n\t\tthis.props.getUsers(page, this.props.pageSize);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{this.props.isFetching ? < Preloader/> : null}\n\t\t\t\t<Users \n\t\t\t\t\t{...this.props} \n\t\t\t\t\t// totalUsersCount={this.props.totalUsersCount}\n\t\t\t\t\t// pageSize={this.props.pageSize}\n\t\t\t\t\t// currentUserPage={this.props.currentUserPage}\n\t\t\t\t\t// users={this.props.users}\n\t\t\t\t\t// follow={this.props.follow}\n\t\t\t\t\t// unfollow={this.props.unfollow}\n\t\t\t\t\tonPageChanged={this.onPageChanged}\n\t\t\t\t\t// followingProgress={this.props.followingProgress}\n\t\t\t\t\t// toggleFollowingProgress={this.props.toggleFollowingProgress}\n\t\t\t\t/>\n\t\t\t</>\n\t\t)\n\t}\n}\n\n// const mapStateToProps = (state) => {\n// \treturn {\n// \t\tusers: state.usersPage.users,\n// \t\tpageSize: state.usersPage.pageSize,\n// \t\ttotalUsersCount: state.usersPage.totalUsersCount,\n// \t\tcurrentUserPage: state.usersPage.currentUserPage,\n// \t\tisFetching: state.usersPage.isFetching,\n// \t\tfollowingProgress: state.usersPage.followingProgress\n// \t}\n// }\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tusers: getUsersSelector(state),\n\t\tpageSize: getPageSizeSelector(state),\n\t\ttotalUsersCount: getTotalUsersCount(state),\n\t\tcurrentUserPage: getCurrentUserPage(state),\n\t\tisFetching: getIsFetching(state),\n\t\tfollowingProgress: getFollowingProgress(state)\n\t}\n}\n\n// const mapDispatchToProps = (dispatch) => {\n// \treturn {\n// \t\tfollow: (userId) => {\n// \t\t\tdispatch(followAC(userId))\n// \t\t},\n// \t\tunfollow: (userId) => {\n// \t\t\tdispatch(unfollowAC(userId))\n// \t\t},\n// \t\tsetUsers: (users) => {\n// \t\t\tdispatch(setUsersAC(users));\n// \t\t},\n// \t\tsetCurrentPage: (pageNumber) => {\n// \t\t\tdispatch(setCurrentPageAC(pageNumber))\n// \t\t},\n// \t\tsetUsersCount: (usersCount) => {\n// \t\t\tdispatch(setUsersCountAC(usersCount))\n// \t\t},\n// \t\ttoggleIsFetching: (isFetching) => {\n// \t\t\tdispatch(toggleIsFetchingAC(isFetching))\n// \t\t}\n// \t}\n// }\n\n/* \n\tТ.к. в mapDispatchToProps содержимые объекта взаимопохожи,\n  можно их вызвать в самой ф-ии connect, в виде объекта,\n  и название action creator-ов должны совпадать с props-ми\n*/\n\nexport default compose(\n\tconnect(mapStateToProps, { follow, unfollow, setCurrentPage, getUsers }),\n\twithAuthRedirect\n)(UsersContainer);\n\n// const AuthRedirectComponent = withAuthRedirect(UsersContainer);\n// export default connect(mapStateToProps, { follow, unfollow, setCurrentPage, getUsers })(AuthRedirectComponent);","import { getAuthUserData } from \"./authReducer\";\n\nconst SET_INITIALIZED = 'samurai-network/app/SET_INITIALIZED';\n\nconst initialState = {\n\tinitialized: false,\n}\n\nconst appReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase SET_INITIALIZED: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinitialized: true\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const initializedApp = () => ({type: SET_INITIALIZED})\n\nexport const initialized = () => (dispatch) => {\n\tconst promise = dispatch(getAuthUserData());\n\n\tPromise.all([promise])\n\t\t.then(() => {\n\t\t\tdispatch(initializedApp());\n\t\t})\n}\n\nexport default appReducer;","let initialState = {\n\tfriends: [\n\t\t{id: 1, name: 'Sasha'},\n\t\t{id: 2, name: 'Pasha'},\n\t\t{id: 3, name: 'Masha'}\n\t]\n}\n\nconst sidebarReducer = (state = initialState, action) => {\n\n\treturn state;\n}\n\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\nimport profileReducer from './profileReducer';\nimport dialogsReducer from './dialogsReducer';\nimport sidebarReducer from './sidebarReducer';\nimport usersReducer from './usersReducer';\nimport authReducer from './authReducer';\nimport appReducer from './appReducer';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form'\n\nlet reducers = combineReducers({\n\tprofilePage: profileReducer,\n\tdialogsPage: dialogsReducer,\n\tsiteBar: sidebarReducer,\n\tusersPage: usersReducer,\n\tauth: authReducer,\n\tform: formReducer,\n\tapp: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunkMiddleware)\n  ));\n\nexport default store;","import React, {Suspense} from 'react';\nimport Preloader from '../components/common/Preloader/Preloader';\n\nconst withSuspense = (Component) => {\n\treturn (props) => {\n\t\treturn(\n\t\t\t<Suspense fallback={<Preloader />}>\n\t\t\t\t<Component {...props} />\n\t\t\t</Suspense>\n\t\t)\n\t};\n}\n\nexport default withSuspense;","import React, { Suspense } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport NavBar from './components/NavBar/NavBar';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport Login from './components/Login/Login';\nimport OnlineUsers from './components/OnlineUsers/OnlineUsers';\nimport { HashRouter, Route, withRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport {initialized} from './redux/appReducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport {Provider} from 'react-redux';\nimport withSuspense from './hoc/withSuspense';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initialized();\n  }\n\n  render() {\n    if(!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <HashRouter>\n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <NavBar />\n          <div className=\"app-wrapper-content\">\n            <Route\n              path=\"/profile/:userId?\"\n              render={ withSuspense(ProfileContainer) }\n            />\n            <Route\n              exact\n              path=\"/dialogs\"\n              render={ withSuspense(DialogsContainer) }\n            />\n            <Route\n              path=\"/users\"\n              render={ () => <UsersContainer/>}  \n            />\n            <Route path=\"/news\" component={News}/>\n            <Route path=\"/music\" component={Music}/>\n            <Route path=\"/settings\" component={Settings}/>\n            <Route path=\"/login\" component={Login}/>\n          </div>\n          <OnlineUsers />\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\n\nconst AppContainer = compose(\n  connect(mapStateToProps, {initialized})\n)(App);\n\nconst SamuraiJSApp = (props) => {\n  return(\n    <React.StrictMode>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </React.StrictMode>\n  )\n}\n\nexport default SamuraiJSApp;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport SamuraiJSApp from './App';\n\nReactDOM.render(\n\t<SamuraiJSApp />,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__2LKrZ\",\"error\":\"FormControl_error__2AXtT\",\"formError\":\"FormControl_formError__3dguT\"};","export default __webpack_public_path__ + \"static/media/Hourglass.55d157a0.gif\";","import React from 'react';\nimport preloader from '../../../assets/images/Hourglass.gif';\nimport s from './Preloader.module.css';\n\nconst Preloader = (props) => {\n\treturn (\n\t\t<div className={s.preloader}>\n\t\t\t<img src={preloader} alt=\"Preloader\"/>\n\t\t</div>\n\t)\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItems\":\"Users_userItems__egCLW\",\"userItem\":\"Users_userItem__GlyEr\",\"userItemHeader\":\"Users_userItemHeader__oo2zT\",\"userInfo\":\"Users_userInfo__21fTd\"};","export const required = (value) => {\n\tif (value) return undefined;\n\treturn 'Field is required';\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n\tif (value.length > maxLength) return `Max length ${maxLength} symbols`;\n\treturn undefined;\n}  ","import React from 'react';\nimport styles from './FormControl.module.css';\n\nexport const Textarea = ({input, meta, ...props} = props) => {\n\tconst hasError = meta.touched && meta.error;\n\n\treturn(\n\t\t<div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n\t\t\t<textarea {...input} {...props} />\n\t\t\t<span>{hasError}</span>\n\t\t</div>\t\t\n\t)\n}\n\nexport const Input = ({input, meta, ...props}) => {\n\tconst hasError = meta.touched && meta.error;\n\n\treturn(\n\t\t<div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n\t\t\t<input {...input} {...props} />\n\t\t\t<span>{hasError}</span>\n\t\t</div>\t\n\t)\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"login\":\"Header_login__3V3Qa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Friends_title__1WpYK\",\"items\":\"Friends_items__23_Pc\"};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nconst mapStateToPropsForRedirect = (state) => {\n  return {\n    isAuth: state.auth.isAuth\n  }\n}\n\nconst withAuthRedirect = (Component) => {\n\tclass RedirectComponent extends React.Component {\n\t\trender() {\n\t\t\tif(!this.props.isAuth) return <Redirect to='/login' />\n\t\t\treturn <Component {...this.props} />\n\t\t}\n\t}\n\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n\treturn ConnectedAuthRedirectComponent;\n}\n\nexport default withAuthRedirect;","import {profileAPI} from '../api/api';\n\nconst ADD_POST = 'samurai-network/profile/ADD-POST';\nconst SET_USERS_PROFILE = 'samurai-network/profile/SET_USERS_PROFILE';\nconst SET_STATUS = 'samurai-network/profile/SET_STATUS';\nconst DELETE_POST = 'samurai-network/profile/DELETE_POST';\n\nlet initialState = {\n\tposts: [\n\t\t{id: 1, message: \"Hi, how are you?\", likeCount: \"15\"},\n\t\t{id: 2, message: \"It's my first post\", likeCount: \"20\"}\n\t],\n\tprofile: null,\n\tstatus: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase ADD_POST: {\n\t\t\tconst newPost = {\n\t\t\t\tid: 3,\n\t\t\t\tmessage: action.newPostText,\n\t\t\t\tlikeCount: 0\n\t\t\t}\n\t\t\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnewPostText: '',\n\t\t\t\tposts: [...state.posts, newPost]\n\t\t\t};\n\t\t}\n\t\tcase SET_USERS_PROFILE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: action.profile\n\t\t\t}\n\t\t}\n\t\tcase SET_STATUS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: action.status\n\t\t\t}\n\t\t}\n\t\tcase DELETE_POST: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.filter(p => p.id != action.postId)\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\nexport const setUsersProfile = (profile) => ({type: SET_USERS_PROFILE, profile});\nexport const setStatus = (status) => ({type: SET_STATUS, status});\nexport const deletePostActionCreator = (postId) => ({type: DELETE_POST, postId});\n\nexport const getProfile = (userId) => async (dispatch) => {\n\tlet data = await profileAPI.getProfileUser(userId);\n\t\t\n\tdispatch(setUsersProfile(data));\n\t\t\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n\tlet data = await profileAPI.getStatus(userId);\n\t\t\n\tdispatch(setStatus(data));\n\t\t\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n\tlet data = await profileAPI.updateStatus(status);\n\t\t\n\tif(data.resultCode === 0) {\n\t\tdispatch(setStatus(status));\n\t}\n}\n\nexport default profileReducer;"],"sourceRoot":""}