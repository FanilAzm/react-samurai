{"version":3,"sources":["assets/images/user.png","redux/dialogsReducer.js","api/api.js","components/NavBar/Friends/FriendItem/FriendItem.module.css","components/OnlineUsers/OnlineUsers.module.css","components/common/Paginator/Paginator.module.css","components/common/Preloader/Preloader.module.css","components/NavBar/NavBar.module.css","logo.svg","components/Header/Header.js","redux/authReducer.js","redux/selectors/header-selectors.js","components/Header/HeaderContainer.js","components/NavBar/Friends/FriendItem/FriendItem.js","components/NavBar/Friends/Friends.js","components/NavBar/Friends/FriendsContainer.js","components/NavBar/NavBar.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/Login/Login.js","components/OnlineUsers/OnlineUsers.js","utils/object-helper.js","redux/usersReducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/selectors/users-selectors.js","components/Users/UsersContainer.js","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","reportWebVitals.js","index.js","components/common/FormControls/FormControl.module.css","assets/images/Hourglass.gif","components/common/Preloader/Preloader.js","components/Users/Users.module.css","components/common/FormControls/FormControls.js","utils/validators.js","components/Header/Header.module.css","components/NavBar/Friends/Friends.module.css","hoc/withAuthRedirect.js","redux/profileReducer.js"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageText","type","dialogsReducer","state","action","body","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentUserPage","pageSize","get","then","response","data","postUser","userId","post","deleteUser","delete","profileAPI","getProfileUser","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","res","authAPI","getAuth","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","Header","props","className","s","header","src","isAuth","onClick","to","SET_AUTH_USER_DATA","GET_CAPTCHA_URL_SUCCESS","isFetching","captchaUrl","setAuthUserData","getCaptchaUrlSuccess","getAuthUserData","dispatch","a","resultCode","url","authReducer","getHeaderIsAuthSelector","auth","getLoginSelector","HeaderContainer","this","React","Component","connect","FriendItem","avatar","Friends","friend","friends","map","title","items","siteBar","NavBar","nav","item","activeClassName","active","News","Music","Settings","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Input","placeholder","validate","required","error","styles","formError","length","stopSubmit","_error","OnlineUsers","usersList","updateObjectInArray","itemId","objPropName","newObjProps","user","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_PROGRESS","users","totalUsersCount","followingProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","pageNumber","usersCount","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","page","selectedPage","User","userItem","userItemHeader","alt","userInfo","photos","small","UserImg","disabled","some","unfollow","follow","Users","userItems","getUsersSelector","usersPage","getPageSizeSelector","getTotalUsersCount","getCurrentUserPage","getIsFetching","getFollowingProgress","UsersContainer","setCurrentPage","Preloader","compose","bind","totalCount","withAuthRedirect","SET_INITIALIZED","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","ProfileContainer","lazy","DialogsContainer","App","path","render","exact","Login","AppContainer","promise","Promise","all","SamuraiJSApp","StrictMode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","preloader","Textarea","input","meta","hasError","touched","formControl","value","maxLengthCreator","maxLength","mapStateToPropsForRedirect","RedirectComponent","ADD_POST","SET_USERS_PROFILE","SET_STATUS","DELETE_POST","SET_PHOTO_SUCCESS","posts","likeCount","addPostActionCreator","newPostText","setStatus","getProfile","file","getState","reject","newPost","p","postId"],"mappings":"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","file":"static/js/main.9fcf5c3a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.fbfe03c2.png\";","const ADD_MESSAGE = 'samurai-network/dialogs/ADD-MESSAGE';\n\nlet initialState = {\n\tdialogs: [\n\t\t{id: 1, name: 'Valera'},\n\t\t{id: 2, name: 'Valera'},\n\t\t{id: 3, name: 'Valera'},\n\t\t{id: 4, name: 'Valera'}\n\t],\n\tmessages: [\n\t\t{id: 1, message: 'Hi'},\n\t\t{id: 2, message: 'How are you it-kamasutra?'},\n\t\t{id: 3, message: 'Yo!'}\n\t]\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase ADD_MESSAGE: {\n\t\t\tlet body = action.newMessageText;\n\t\t\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessages: [...state.messages, {id: 1, message: body}]\n\t\t\t};\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const addMessageActionCreator = (newMessageText) => ({type: ADD_MESSAGE, newMessageText});\n\nexport default dialogsReducer;","import * as axios from 'axios';\n\nconst instance = axios.create({\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\n\twithCredentials: true,\n\theaders: {\n\t\t\"API-KEY\": \"0d89e099-3709-4127-8745-9e8637327b4f\"\n\t}\n})\n\nexport const usersAPI = {\n\tgetUsers(currentUserPage, pageSize){\n\t\treturn instance\n\t\t\t.get(`users?page=${currentUserPage}&count=${pageSize}`)\n\t\t\t.then(response => response.data)\n\t},\n\tpostUser(userId) {\n\t\treturn instance\n\t\t\t.post(`follow/${userId}`)\n\t\t\t.then(response => response.data)\n\t},\n\tdeleteUser(userId) {\n\t\treturn instance\n\t\t\t.delete(`follow/${userId}`)\n\t\t\t.then(response => response.data)\n\t}\n}\n\nexport const profileAPI = {\n\tgetProfileUser(userId) {\n\t\treturn instance\n\t\t\t.get(`profile/` + userId)\n\t\t\t.then(response => response.data)\n\t},\n\tgetStatus(userId) {\n\t\treturn instance\n\t\t\t.get(`profile/status/` + userId)\n\t\t\t.then(response => response.data)\n\t},\n\tupdateStatus(status) {\n\t\treturn instance\n\t\t\t.put(`profile/status`, {status: status})\n\t\t\t.then(response => response.data)\n\t},\n\tsavePhoto(photoFile) {\n\t\tconst formData = new FormData();\n\t\tformData.append('image', photoFile);\n\t\treturn instance.put(`profile/photo`, formData, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t}\n\t\t})\n\t},\n\tsaveProfile(profile) {\n\t\treturn instance.put('profile', profile).then(res => res.data);\n\t}\n}\n\nexport const authAPI = {\n\tgetAuth() {\n\t\treturn instance\n\t\t\t.get(`auth/me`)\n\t\t\t.then(response => response.data);\n\t},\n\tlogin(email, password, rememberMe, captcha = null) {\n\t\treturn instance\n\t\t\t.post(`auth/login`, {email, password, rememberMe, captcha})\n\t\t\t.then(response => response.data);\n\t},\n\tlogout() {\n\t\treturn instance\n\t\t\t.delete(`auth/login`)\n\t\t\t.then(response => response.data);\n\t}\n}\n\nexport const securityAPI = {\n\tgetCaptchaUrl() {\n\t\treturn instance.get(`security/get-captcha-url`);\n\t}\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"FriendItem_avatar__2AFmO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersList\":\"OnlineUsers_usersList__3R-bG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2dvkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1FWUI\",\"item\":\"NavBar_item__2RAQQ\",\"active\":\"NavBar_active__1HRI5\"};","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './Header.module.css';\n\nconst Header = (props) => {\n  return(\n    <header className={s.header}>\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQWEtOjmSIgLT_6bSSd0jx8IFdmocKUAG7nQ&usqp=CAU\" />\n      <div className={s.login}>\n        { props.isAuth \n          ? <div>{props.login} <button onClick={props.logout}>Log out</button></div>\n          : <NavLink to={'/login'}>Login</NavLink> }\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import { stopSubmit } from 'redux-form';\nimport {authAPI, securityAPI} from '../api/api';\n\nconst SET_AUTH_USER_DATA = 'samurai-network/auth/SET_AUTH_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS';\n\nconst initialState = {\n\tid: null,\n\tlogin: null,\n\temail: null,\n\tisAuth: false,\n\tisFetching: false,\n\tcaptchaUrl: null\n}\n\nconst authReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase SET_AUTH_USER_DATA:\n\t\tcase GET_CAPTCHA_URL_SUCCESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.data\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const setAuthUserData = (id, login, email, isAuth) => ({type: SET_AUTH_USER_DATA, data: {id, login, email, isAuth}})\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, data: {captchaUrl}})\n\nexport const getAuthUserData = () => async (dispatch) => {\n\tlet response = await authAPI.getAuth();\n\t\t\n\tif(response.resultCode === 0) {\n\t\tlet {id, login, email} = response.data;\n\t\tdispatch(setAuthUserData(id, login, email, true));\n\t}\n}\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n\tlet response = await authAPI.login(email, password, rememberMe, captcha);\n\t\t\n\tif(response.resultCode === 0) {\n\t\tdispatch(getAuthUserData());\n\t} else {\n\t\tif(response.resultCode === 10) {\n\t\t\tdispatch(getCaptchaUrl());\n\t\t}\n\t\tlet message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\n\t\tdispatch(stopSubmit('login', {_error: message}));\n\t}\n}\n\nexport const logout = () => async (dispatch) => {\n\tlet response = await authAPI.logout()\n\t\t\n\tif(response.resultCode === 0) {\n\t\tdispatch(setAuthUserData(null, null, null, false));\n\t}\n}\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n\tconst response = await securityAPI.getCaptchaUrl()\n\tconst captchaUrl = response.data.url;\t\n\tdispatch(getCaptchaUrlSuccess(captchaUrl));\n}\n\nexport default authReducer;","export const getHeaderIsAuthSelector = (state) => {\n\treturn state.auth.isAuth;\n}\n\nexport const getLoginSelector = (state) => {\n\treturn state.auth.login;\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport {logout} from '../../redux/authReducer';\nimport { getHeaderIsAuthSelector, getLoginSelector } from '../../redux/selectors/header-selectors';\n\nclass HeaderContainer extends React.Component {\n  \n  render() {\n    return(\n      <Header {...this.props} />\n    )\n  }\n}\n\n// const mapStateToProps = (state) => {\n//   return {\n//     isAuth: state.auth.isAuth,\n//     login: state.auth.login\n//   }\n// }\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuth: getHeaderIsAuthSelector(state),\n    login: getLoginSelector(state)\n  }\n}\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\nimport s from './FriendItem.module.css';\n\nconst FriendItem = (props) => {\n\treturn(\n\t\t<div>\n\t\t\t<div className={s.avatar}></div>\n\t\t\t<div>{ props.name }</div>\n\t\t</div>\n\t)\n}\n\nexport default FriendItem;","import React from 'react';\nimport FriendItem from './FriendItem/FriendItem';\nimport s from './Friends.module.css';\n\nconst Friends = (props) => {\n\tconst friend = props.friends.map(friend => <FriendItem key={friend.id} name={friend.name}/>);\n\n\treturn(\n\t\t<div>\n\t\t\t<div className={s.title}>Friends</div>\n\t\t\t<div className={s.items}>\n\t\t\t\t{ friend }\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Friends;","import React from 'react';\nimport StoreContext from '../../../StoreContext';\nimport Friends from './Friends';\nimport {connect} from 'react-redux';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfriends: state.siteBar.friends\n\t}\n}\n\nconst mapDispatchToProps = () => {\n\treturn {}\n}\n\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(Friends);\n\nexport default FriendsContainer;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport FriendsContainer from './Friends/FriendsContainer';\nimport s from './NavBar.module.css';\n\nconst NavBar = () => {\n\treturn(\n\t\t<nav className={s.nav}>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\n\t\t\t</div>\n\t\t\t<div className={s.item}>\n\t\t\t\t<NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\n\t\t\t</div>\n\t\t\t{/* <FriendsContainer /> */}\n\t\t</nav>\n\t)\n}\n\nexport default NavBar;","import React from 'react';\nimport s from './News.module.css';\n\nconst News = () => {\n\treturn(\n\t\t<div>\n\t\t\tNews\n\t\t</div>\n\t)\n}\n\nexport default News;","import React from 'react';\nimport s from './Music.module.css';\n\nconst Music = () => {\n\treturn(\n\t\t<div>\n\t\t\tMusic\n\t\t</div>\n\t)\n}\n\nexport default Music;","import React from 'react';\nimport s from './Settings.module.css';\n\nconst Settings = () => {\n\treturn(\n\t\t<div>\n\t\t\tSettings\n\t\t</div>\n\t)\n}\n\nexport default Settings;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { required } from '../../utils/validators';\nimport { Input } from '../common/FormControls/FormControls';\nimport { login } from '../../redux/authReducer';\nimport { Redirect } from 'react-router-dom';\nimport styles from './../common/FormControls/FormControl.module.css';\n\nconst Login = (props) => {\n\tconst onSubmit = (formData) => {\n\t\tprops.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\n\t}\n\n\tif(props.isAuth) {\n\t\treturn <Redirect to=\"/profile\" />\n\t}\n\n\treturn(\n\t\t<div>\n\t\t\t<h1>Login</h1>\n\t\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\n\t\t</div>\n\t)\n}\n\nconst LoginForm = (props) => {\n\treturn(\n\t\t<form onSubmit={props.handleSubmit}>\n\t\t\t<div>\n\t\t\t\t<Field type=\"text\" name=\"email\"\n\t\t\t\t\tcomponent={Input} placeholder=\"Email\"\n\t\t\t\t\tvalidate={[required]}\t\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Field type=\"text\" name=\"password\"\n\t\t\t\t\tcomponent={Input} placeholder=\"Password\"\n\t\t\t\t\tvalidate={[required]}\t\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Field type=\"checkbox\" name=\"rememberMe\" component=\"input\"/> remember me\n\t\t\t</div>\n\t\t\t{ props.captchaUrl && <img src={props.captchaUrl} /> }\n\t\t\t{\n\t\t\t\tprops.captchaUrl && \n\t\t\t\t<Field type=\"text\" name=\"captcha\"\n\t\t\t\t\tcomponent={Input} placeholder=\"Symbols from image\"\n\t\t\t\t\tvalidate={[required]}\t\n\t\t\t\t/>\n\t\t\t}\n\t\t\t{\n\t\t\t\tprops.error && <div className={styles.formError}>{props.error}</div>\n\t\t\t}\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">Login</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nconst LoginReduxForm = reduxForm({\n  form: 'login'\n})(LoginForm)\n\nconst mapStateToProps = (state) => ({\n\tisAuth: state.auth.isAuth,\n\tcaptchaUrl: state.auth.captchaUrl\n})\n \nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\nimport s from './OnlineUsers.module.css';\n\nconst OnlineUsers = () => {\n\treturn(\n\t\t<div className={s.usersList}>\n\t\t\tOnline Users\n\t\t</div>\n\t)\n}\n\nexport default OnlineUsers;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n\treturn items.map(user => {\n\t\tif(user[objPropName] === itemId) {\n\t\t\treturn {...user, ...newObjProps}\n\t\t}\n\t\treturn user;\n\t})\n} ","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from '../utils/object-helper';\n\nconst FOLLOW = 'samurai-network/users/FOLLOW';\nconst UNFOLLOW = 'samurai-network/users/UNFOLLOW';\nconst SET_USERS = 'samurai-network/users/SET_USERS';\nconst SET_CURRENT_PAGE = 'samurai-network/users/SET_CURRENT_PAGE';\nconst SET_USERS_COUNT = 'samurai-network/users/SET_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'samurai-network/users/TOGGLE_IS_FETCHING';\nconst TOGGLE_FOLLOWING_PROGRESS = 'samurai-network/users/TOGGLE_FOLLOWING_PROGRESS';\n\nconst initialState = {\n\tusers: [],\n\tpageSize: 4,\n\ttotalUsersCount: 0,\n\tcurrentUserPage: 1,\n\tisFetching: false,\n\tfollowingProgress: []\n}\n\nconst usersReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase FOLLOW: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: updateObjectInArray(state.users, action.id, 'id', {followed: true})\n\t\t\t\t// users: state.users.map(user => {\n\t\t\t\t// \tif(user.id === action.id) {\n\t\t\t\t// \t\treturn {...user, followed: true}\n\t\t\t\t// \t}\n\t\t\t\t// \treturn user;\n\t\t\t\t// })\n\t\t\t}\n\t\t}\n\t\tcase UNFOLLOW: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: updateObjectInArray(state.users, action.id, 'id', {followed: false})\n\t\t\t\t// users: state.users.map(user => {\n\t\t\t\t// \tif(user.id === action.id) {\n\t\t\t\t// \t\treturn {...user, followed: false}\n\t\t\t\t// \t}\n\t\t\t\t// \treturn user;\n\t\t\t\t// })\n\t\t\t}\n\t\t}\n\t\tcase SET_USERS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: action.users\n\t\t\t}\n\t\t}\n\t\tcase SET_CURRENT_PAGE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentUserPage: action.pageNumber\n\t\t\t}\n\t\t}\n\t\tcase SET_USERS_COUNT: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttotalUsersCount: action.usersCount\n\t\t\t}\n\t\t}\n\t\tcase TOGGLE_IS_FETCHING: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching\n\t\t\t}\n\t\t}\n\t\tcase TOGGLE_FOLLOWING_PROGRESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfollowingProgress: action.isFetching\n\t\t\t\t\t? [...state.followingProgress, action.userId]\n\t\t\t\t\t: state.followingProgress.filter(id => id != action.userId)\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const followSuccess = (userId) => ({type: FOLLOW, id: userId});\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, id: userId});\nexport const setUsers = (users) => ({type: SET_USERS, users});\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber});\nexport const setUsersCount = (usersCount) => ({type: SET_USERS_COUNT, usersCount});\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_FOLLOWING_PROGRESS, isFetching, userId});\n\nexport const getUsers = (currentUserPage, pageSize) => async (dispatch) => {\n\tdispatch(toggleIsFetching(true));\n\t\n\tlet data = await usersAPI.getUsers(currentUserPage, pageSize)\n\t\t\n\tdispatch(setUsers(data.items));\n\tdispatch(setUsersCount(data.totalCount));\n\tdispatch(toggleIsFetching(false));\n\t\t\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n\tdispatch(toggleFollowingProgress(true, userId));\n\n\tlet data = await apiMethod(userId);\n\t\t\n\tif(data.resultCode === 0) {\n\t\tdispatch(actionCreator(userId));\n\t}\n\tdispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => async (dispatch) => {\n\tlet apiMethod = usersAPI.postUser.bind(usersAPI);\n\tlet actionCreator = followSuccess;\n\t\n\tfollowUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\n}\n\nexport const unfollow = (userId) => async (dispatch) => {\n\tlet apiMethod = usersAPI.deleteUser.bind(usersAPI);\n\tlet actionCreator = unfollowSuccess;\n\t\n\tfollowUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\n}\n\n\n\nexport default usersReducer;","import React, { useState } from 'react';\nimport s from './Paginator.module.css';\n\nconst Paginator = ({totalUsersCount, pageSize, currentUserPage, onPageChanged, portionSize = 10}) => {\n\tlet pagesCount = Math.ceil(totalUsersCount / pageSize);\n\tconst pages = [];\n\n\tfor(let i = 1; i <= pagesCount; i++) {\n\t\tpages.push(i);\n\t}\n\n\tlet portionCount = Math.ceil(pagesCount / portionSize);\n\tlet [portionNumber, setPortionNumber] = useState(1);\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n\tlet rightPortionPageNumber = portionNumber * portionSize;\n\n\treturn(\n\t\t<div>\n\t\t\t{ portionNumber > 1 && <button onClick={ () => { setPortionNumber(portionNumber - 1) }}>prev</button> }\n\t\t\t\t{\n\t\t\t\t\tpages\n\t\t\t\t\t\t.filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\n\t\t\t\t\t\t.map(page => {\n\t\t\t\t\t\t\treturn  (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tkey={page}\n\t\t\t\t\t\t\t\t\tclassName={ currentUserPage === page && s.selectedPage }\n\t\t\t\t\t\t\t\t\tonClick={() => { onPageChanged(page) }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ page }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t{ portionCount > portionNumber && <button onClick={ () => { setPortionNumber(portionNumber + 1) }}>next</button> }\n\t\t</div>\n\t)\n}\n\nexport default Paginator;","import React from 'react';\nimport s from './Users.module.css';\nimport UserImg from '../../assets/images/user.png';\nimport { NavLink } from 'react-router-dom';\n\nconst User = ({user, ...props}) => {\n\n\t\tconst deleteRequest = (userId) => {\n\t\t\tprops.unfollow(userId);\n\t\t}\n\n\t\tconst postRequest = (userId) => {\n\t\t\tprops.follow(userId);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={s.userItem}>\n\t\t\t\t<div className={s.userItemHeader}>\n\t\t\t\t\t<img src=\"https://images.ctfassets.net/hrltx12pl8hq/7yQR5uJhwEkRfjwMFJ7bUK/dc52a0913e8ff8b5c276177890eb0129/offset_comp_772626-opt.jpg?fit=fill&w=800&h=300\" alt=\"\"/>\n\t\t\t\t</div>\n\t\t\t\t<div className={s.userInfo}>\n\t\t\t\t\t<NavLink to={'/profile/' + user.id}>\n\t\t\t\t\t\t<img src={user.photos.small ? null : UserImg} alt={user.name}/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>{user.name}</h4>\n\t\t\t\t\t\t<p>{user.status}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{user.followed\n\t\t\t\t\t\t? <button disabled={props.followingProgress.some(id => id === user.id)} onClick={() => { deleteRequest(user.id) }}>UnFollow</button>\n\t\t\t\t\t\t: <button disabled={props.followingProgress.some(id => id === user.id)} onClick={() => { postRequest(user.id) }}>Follow</button>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n}\n\nexport default User;","import React from 'react';\nimport s from './Users.module.css';\nimport Paginator from '../common/Paginator/Paginator';\nimport User from './User';\n\nconst Users = (props) => {\n\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<Paginator \n\t\t\t\t\ttotalUsersCount={props.totalUsersCount}\n\t\t\t\t\tpageSize={props.pageSize}\n\t\t\t\t\tcurrentUserPage={props.currentUserPage}\n\t\t\t\t\tonPageChanged={props.onPageChanged}\n\t\t\t\t/>\n\t\t\t\t<div className={s.userItems}>\n\t\t\t\t\t{\n\t\t\t\t\t\tprops.users.map(user => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<User \n\t\t\t\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\t\t\tunfollow={props.unfollow}\n\t\t\t\t\t\t\t\t\tfollow={props.follow}\n\t\t\t\t\t\t\t\t\tfollowingProgress={props.followingProgress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n}\n\nexport default Users;","export const getUsersSelector = (state) => {\n\treturn state.usersPage.users;\n}\n\nexport const getPageSizeSelector = (state) => {\n\treturn state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n\treturn state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentUserPage = (state) => {\n\treturn state.usersPage.currentUserPage;\n}\n\nexport const getIsFetching = (state) => {\n\treturn state.usersPage.isFetching;\n}\n\nexport const getFollowingProgress = (state) => {\n\treturn state.usersPage.followingProgress;\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport {follow, unfollow, setCurrentPage, getUsers} from '../../redux/usersReducer';\nimport Users from './Users';\nimport Preloader from '../common/Preloader/Preloader';\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\nimport { getUsersSelector, getPageSizeSelector, getTotalUsersCount, getCurrentUserPage, getIsFetching, getFollowingProgress } from '../../redux/selectors/users-selectors';\n\nclass UsersContainer extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.getUsers(this.props.currentUserPage, this.props.pageSize);\n\t}\n\tonPageChanged = (page) => {\n\t\tthis.props.setCurrentPage(page);\n\t\tthis.props.getUsers(page, this.props.pageSize);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{this.props.isFetching ? < Preloader/> : null}\n\t\t\t\t<Users \n\t\t\t\t\t{...this.props} \n\t\t\t\t\t// totalUsersCount={this.props.totalUsersCount}\n\t\t\t\t\t// pageSize={this.props.pageSize}\n\t\t\t\t\t// currentUserPage={this.props.currentUserPage}\n\t\t\t\t\t// users={this.props.users}\n\t\t\t\t\t// follow={this.props.follow}\n\t\t\t\t\t// unfollow={this.props.unfollow}\n\t\t\t\t\tonPageChanged={this.onPageChanged}\n\t\t\t\t\t// followingProgress={this.props.followingProgress}\n\t\t\t\t\t// toggleFollowingProgress={this.props.toggleFollowingProgress}\n\t\t\t\t/>\n\t\t\t</>\n\t\t)\n\t}\n}\n\n// const mapStateToProps = (state) => {\n// \treturn {\n// \t\tusers: state.usersPage.users,\n// \t\tpageSize: state.usersPage.pageSize,\n// \t\ttotalUsersCount: state.usersPage.totalUsersCount,\n// \t\tcurrentUserPage: state.usersPage.currentUserPage,\n// \t\tisFetching: state.usersPage.isFetching,\n// \t\tfollowingProgress: state.usersPage.followingProgress\n// \t}\n// }\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tusers: getUsersSelector(state),\n\t\tpageSize: getPageSizeSelector(state),\n\t\ttotalUsersCount: getTotalUsersCount(state),\n\t\tcurrentUserPage: getCurrentUserPage(state),\n\t\tisFetching: getIsFetching(state),\n\t\tfollowingProgress: getFollowingProgress(state)\n\t}\n}\n\n// const mapDispatchToProps = (dispatch) => {\n// \treturn {\n// \t\tfollow: (userId) => {\n// \t\t\tdispatch(followAC(userId))\n// \t\t},\n// \t\tunfollow: (userId) => {\n// \t\t\tdispatch(unfollowAC(userId))\n// \t\t},\n// \t\tsetUsers: (users) => {\n// \t\t\tdispatch(setUsersAC(users));\n// \t\t},\n// \t\tsetCurrentPage: (pageNumber) => {\n// \t\t\tdispatch(setCurrentPageAC(pageNumber))\n// \t\t},\n// \t\tsetUsersCount: (usersCount) => {\n// \t\t\tdispatch(setUsersCountAC(usersCount))\n// \t\t},\n// \t\ttoggleIsFetching: (isFetching) => {\n// \t\t\tdispatch(toggleIsFetchingAC(isFetching))\n// \t\t}\n// \t}\n// }\n\n/* \n\tТ.к. в mapDispatchToProps содержимые объекта взаимопохожи,\n  можно их вызвать в самой ф-ии connect, в виде объекта,\n  и название action creator-ов должны совпадать с props-ми\n*/\n\nexport default compose(\n\tconnect(mapStateToProps, { follow, unfollow, setCurrentPage, getUsers }),\n\twithAuthRedirect\n)(UsersContainer);\n\n// const AuthRedirectComponent = withAuthRedirect(UsersContainer);\n// export default connect(mapStateToProps, { follow, unfollow, setCurrentPage, getUsers })(AuthRedirectComponent);","import { getAuthUserData } from \"./authReducer\";\n\nconst SET_INITIALIZED = 'samurai-network/app/SET_INITIALIZED';\n\nconst initialState = {\n\tinitialized: false,\n}\n\nconst appReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase SET_INITIALIZED: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinitialized: true\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const initializedApp = () => ({type: SET_INITIALIZED})\n\nexport const initialized = () => (dispatch) => {\n\tconst promise = dispatch(getAuthUserData());\n\n\tPromise.all([promise])\n\t\t.then(() => {\n\t\t\tdispatch(initializedApp());\n\t\t})\n}\n\nexport default appReducer;","let initialState = {\n\tfriends: [\n\t\t{id: 1, name: 'Sasha'},\n\t\t{id: 2, name: 'Pasha'},\n\t\t{id: 3, name: 'Masha'}\n\t]\n}\n\nconst sidebarReducer = (state = initialState, action) => {\n\n\treturn state;\n}\n\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\nimport profileReducer from './profileReducer';\nimport dialogsReducer from './dialogsReducer';\nimport sidebarReducer from './sidebarReducer';\nimport usersReducer from './usersReducer';\nimport authReducer from './authReducer';\nimport appReducer from './appReducer';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form'\n\nlet reducers = combineReducers({\n\tprofilePage: profileReducer,\n\tdialogsPage: dialogsReducer,\n\tsiteBar: sidebarReducer,\n\tusersPage: usersReducer,\n\tauth: authReducer,\n\tform: formReducer,\n\tapp: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunkMiddleware)\n  ));\n\nexport default store;","import React, {Suspense} from 'react';\nimport Preloader from '../components/common/Preloader/Preloader';\n\nconst withSuspense = (Component) => {\n\treturn (props) => {\n\t\treturn(\n\t\t\t<Suspense fallback={<Preloader />}>\n\t\t\t\t<Component {...props} />\n\t\t\t</Suspense>\n\t\t)\n\t};\n}\n\nexport default withSuspense;","import React, { Suspense } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport NavBar from './components/NavBar/NavBar';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport Login from './components/Login/Login';\nimport OnlineUsers from './components/OnlineUsers/OnlineUsers';\nimport { HashRouter, Route, withRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport {initialized} from './redux/appReducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport {Provider} from 'react-redux';\nimport withSuspense from './hoc/withSuspense';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initialized();\n  }\n\n  render() {\n    if(!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <HashRouter>\n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <NavBar />\n          <div className=\"app-wrapper-content\">\n            <Route\n              path=\"/profile/:userId?\"\n              render={ withSuspense(ProfileContainer) }\n            />\n            <Route\n              exact\n              path=\"/dialogs\"\n              render={ withSuspense(DialogsContainer) }\n            />\n            <Route\n              path=\"/users\"\n              render={ () => <UsersContainer/>}  \n            />\n            <Route path=\"/news\" component={News}/>\n            <Route path=\"/music\" component={Music}/>\n            <Route path=\"/settings\" component={Settings}/>\n            <Route path=\"/login\" component={Login}/>\n          </div>\n          <OnlineUsers />\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\n\nconst AppContainer = compose(\n  connect(mapStateToProps, {initialized})\n)(App);\n\nconst SamuraiJSApp = (props) => {\n  return(\n    <React.StrictMode>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </React.StrictMode>\n  )\n}\n\nexport default SamuraiJSApp;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport SamuraiJSApp from './App';\n\nReactDOM.render(\n\t<SamuraiJSApp />,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__2LKrZ\",\"error\":\"FormControl_error__2AXtT\",\"formError\":\"FormControl_formError__3dguT\"};","export default __webpack_public_path__ + \"static/media/Hourglass.55d157a0.gif\";","import React from 'react';\nimport preloader from '../../../assets/images/Hourglass.gif';\nimport s from './Preloader.module.css';\n\nconst Preloader = (props) => {\n\treturn (\n\t\t<div className={s.preloader}>\n\t\t\t<img src={preloader} alt=\"Preloader\"/>\n\t\t</div>\n\t)\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItems\":\"Users_userItems__egCLW\",\"userItem\":\"Users_userItem__GlyEr\",\"userItemHeader\":\"Users_userItemHeader__oo2zT\",\"userInfo\":\"Users_userInfo__21fTd\"};","import React from 'react';\nimport styles from './FormControl.module.css';\n\nexport const Textarea = ({input, meta, ...props} = props) => {\n\tconst hasError = meta.touched && meta.error;\n\n\treturn(\n\t\t<div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n\t\t\t<textarea {...input} {...props} />\n\t\t\t<span>{hasError}</span>\n\t\t</div>\t\t\n\t)\n}\n\nexport const Input = ({input, meta, ...props}) => {\n\tconst hasError = meta.touched && meta.error;\n\n\treturn(\n\t\t<div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n\t\t\t<input {...input} {...props} />\n\t\t\t<span>{hasError}</span>\n\t\t</div>\t\n\t)\n}\n\n","export const required = (value) => {\n\tif (value) return undefined;\n\treturn 'Field is required';\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n\tif (value.length > maxLength) return `Max length ${maxLength} symbols`;\n\treturn undefined;\n}  ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"login\":\"Header_login__3V3Qa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Friends_title__1WpYK\",\"items\":\"Friends_items__23_Pc\"};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nconst mapStateToPropsForRedirect = (state) => {\n  return {\n    isAuth: state.auth.isAuth\n  }\n}\n\nconst withAuthRedirect = (Component) => {\n\tclass RedirectComponent extends React.Component {\n\t\trender() {\n\t\t\tif(!this.props.isAuth) return <Redirect to='/login' />\n\t\t\treturn <Component {...this.props} />\n\t\t}\n\t}\n\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n\treturn ConnectedAuthRedirectComponent;\n}\n\nexport default withAuthRedirect;","import {profileAPI} from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst ADD_POST = 'samurai-network/profile/ADD-POST';\nconst SET_USERS_PROFILE = 'samurai-network/profile/SET_USERS_PROFILE';\nconst SET_STATUS = 'samurai-network/profile/SET_STATUS';\nconst DELETE_POST = 'samurai-network/profile/DELETE_POST';\nconst SET_PHOTO_SUCCESS = 'samurai-network/profile/SET_PHOTO_SUCCESS';\n\nlet initialState = {\n\tposts: [\n\t\t{id: 1, message: \"Hi, how are you?\", likeCount: \"15\"},\n\t\t{id: 2, message: \"It's my first post\", likeCount: \"20\"}\n\t],\n\tprofile: null,\n\tstatus: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase ADD_POST: {\n\t\t\tconst newPost = {\n\t\t\t\tid: 3,\n\t\t\t\tmessage: action.newPostText,\n\t\t\t\tlikeCount: 0\n\t\t\t}\n\t\t\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnewPostText: '',\n\t\t\t\tposts: [...state.posts, newPost]\n\t\t\t};\n\t\t}\n\t\tcase SET_USERS_PROFILE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: action.profile\n\t\t\t}\n\t\t}\n\t\tcase SET_STATUS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: action.status\n\t\t\t}\n\t\t}\n\t\tcase DELETE_POST: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.filter(p => p.id != action.postId)\n\t\t\t}\n\t\t}\n\t\tcase SET_PHOTO_SUCCESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: {...state.profile, photos: action.photos}\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\nexport const setUsersProfile = (profile) => ({type: SET_USERS_PROFILE, profile});\nexport const setStatus = (status) => ({type: SET_STATUS, status});\nexport const deletePostActionCreator = (postId) => ({type: DELETE_POST, postId});\nexport const setPhotoSuccess = (photos) => ({type: SET_PHOTO_SUCCESS, photos});\n\nexport const getProfile = (userId) => async (dispatch) => {\n\tlet data = await profileAPI.getProfileUser(userId);\n\tdispatch(setUsersProfile(data));\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n\tlet data = await profileAPI.getStatus(userId);\n\tdispatch(setStatus(data));\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n\tlet data = await profileAPI.updateStatus(status);\n\tif(data.resultCode === 0) {\n\t\tdispatch(setStatus(status));\n\t}\n}\n\nexport const savePhoto = (file) => async (dispatch) => {\n\tlet data = await profileAPI.savePhoto(file);\n\tif(data.resultCode === 0) {\n\t\tdispatch(setPhotoSuccess(data.photos));\n\t}\n}\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n\tconst userId = getState().auth.userId;\n\tlet data = await profileAPI.saveProfile(profile);\n\tif(data.resultCode === 0) {\n\t\tdispatch(getProfile(userId));\n\t} else {\n\t\tdispatch(stopSubmit(\"edit-profile\", {_error: data.messages[0] }));\n        return Promise.reject(data.messages[0]);\n\t}\n}\n\nexport default profileReducer;"],"sourceRoot":""}